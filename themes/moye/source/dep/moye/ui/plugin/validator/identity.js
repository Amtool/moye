/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/plugin/validator/identity",["require","../ValidityState","../ValidateRule"],function(require){function t(t){var n=!1;if(""!==t){if(15===t.length)n=i(t);else if(18===t.length)n=e(t);return n}}function e(t){t+="";for(var e=t.substr(0,17),i=t.substr(17),s=0,a=0;17>a;a++){if(e.charAt(a)<"0"||e.charAt(a)>"9")return!1;s+=parseInt(e.charAt(a),10)*parseInt(n[a],10)}var o=parseInt(s,10)%11;if(r[o]===i)return!0;else return!1}function i(t){t+="";for(var e=0;e<t.length;e++)if(t.charAt(e)<"0"||t.charAt(e)>"9")return!1;var i=t.substr(6,2),n=t.substr(8,2),r=t.substr(10,2);if("01">i||i>"90")return!1;if("01">n||n>"12")return!1;if("01">r||r>"31")return!1;else return!0}var n=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],r=["1","0","X","9","8","7","6","5","4","3","2"],s=require("../ValidityState"),a=require("../ValidateRule");a.register("identity",{check:function(e,i){var n=!e||t(e);return new s(n,this.getMessage(i,n))},message:{invalid:"请填写正确的身份证号"}})});