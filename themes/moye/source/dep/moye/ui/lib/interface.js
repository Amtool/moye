/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/lib/interface",["require","jquery","./array","./object","./type"],function(require){var t=require("jquery"),e=require("./array"),i=require("./object"),n=require("./type");return{configurable:{setOptions:function(t){i.extend(this,this.options,t)},bindEvents:function(t){t=t||{};for(var e in t){var s=t[e];if(i.has(t,e)&&0===e.indexOf("on")&&n.isFunction(s))this.on(e.charAt(2).toLowerCase()+e.slice(3),s),delete t[e]}}},observable:{on:function(e,i){if(n.isFunction(e))i=e,e="*";this._listeners=this._listeners||{};var s=this._listeners[e]||[];if(t.inArray(i,s)<0)i.$type=e,s.push(i);return this._listeners[e]=s,this},un:function(e,i){if(n.isFunction(e))i=e,e="*";this._listeners=this._listeners||{};var s=this._listeners[e];if(s)if(i){var r=t.inArray(i,s);if(~r)s.splice(r,1)}else s.length=0,delete this._listeners[e];return this},once:function(t,e){if(n.isFunction(t))e=t,t="*";var i=this,s=function(){e.apply(i,arguments),i.un(t,s)};return this.on.call(i,t,s),this},fire:function(e,i){var n;if(e instanceof t.Event)n=e,e=n.type;else n=new t.Event(e,i);if(!n.target)n.target=this;this._listeners=this._listeners||{};for(var s=this._listeners[e]||[],r=this._listeners["*"]||[],a=[].concat(s,r),o=a.length,h=0;o>h;h++)a[h].call(this,n);return n},destroyEvents:function(){var t=this._listeners;if(t)e.each(t,function(t,e,i){i[e].length=0,i[e]=null}),this._listeners=null}}}});