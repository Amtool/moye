/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/painter",["require","./lib"],function(require){var t=require("./lib");return{createRepaint:function(){var e=t.slice(arguments);return function(i,n){for(var r=t.extend({},n),s=0;s<e.length;s++){var a=e[s];if("function"!=typeof a){var o=[].concat(a.name),h=!i,l=o.length;if(!h)for(var u=0;l>u;u++){var c=o[u];if(n.hasOwnProperty(c)){h=!0;break}}if(h){var f=[a];for(u=0;l>u;u++)c=o[u],f.push(this[c]),delete r[c];a.paint.apply(this,f)}else;}else a.apply(this,arguments)}return this}}}}),define("moye/helper/dom",["require","jquery","../lib","../main"],function(require){function t(){return i.slice(arguments).join("-")}var e=require("jquery"),i=require("../lib"),n=require("../main"),r={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,command:!0};return{getPartClasses:function(e){var i=this.control,r=i.type.toLowerCase(),s=i.skin,a=n.getConfig("uiClassPrefix"),o=n.getConfig("skinClassPrefix"),h=[];if(e){if(h.push(t(a,r,e)),s)for(var l=0,u=s.length;u>l;l++)s[l]&&h.push(t(o,s[l],r,e))}else if(h.push(t(a,r)),s)for(l=0,u=s.length;u>l;l++)s[l]&&h.push(t(o,s[l]),t(o,s[l],r));return h},getPartClassName:function(t){return this.getPartClasses(t).join(" ")},getPrimaryClassName:function(e){var i=this.control.type.toLowerCase();return e?t(n.getConfig("uiClassPrefix"),i,e):t(n.getConfig("uiClassPrefix"),i)},addPartClasses:function(t,i){if("string"==typeof i)i=this.getPart(i);if(i=i||this.control.main){var n=this.getPartClassName(t);e(i).addClass(n)}},removePartClasses:function(t,i){if("string"==typeof i)i=this.getPart(i);if(i=i||this.control.main){var n=this.getPartClassName(t);e(i).removeClass(n)}},getStateClasses:function(e){var i=this.control.type.toLowerCase(),r=[t(n.getConfig("uiClassPrefix"),i,e),t(n.getConfig("stateClassPrefix"),e)],s=this.control.skin;if(s)for(var a=n.getConfig("skinClassPrefix"),o=0,h=s.length;h>o;o++)s[o]&&r.push(t(a,s[o],e),t(a,s[o],i,e));return r},getStateClassName:function(t){return this.getStateClasses(t).join(" ")},addStateClasses:function(t){var i=this.control.main;if(i){var n=this.getStateClassName(t);e(i).addClass(n)}},removeStateClasses:function(t){var i=this.control.main;if(i){var n=this.getStateClassName(t);e(i).removeClass(n)}},getPart:function(t){return i.g(this.getPartId(t))},getPartId:function(t){var e=this.control;return"ctrl-"+e.type.toLowerCase()+"-"+e.id+(t?"-"+t:"")},getPartBeginTag:function(t,e,n){n=n?i.map(n,function(t,e){return e+'="'+t+'"'}).join(" "):"";var s="<"+e+' id="'+this.getPartId(t)+'" data-part="'+t+'"class="'+this.getPartClassName(t)+'"'+n+(r.hasOwnProperty(e)?"":">");return s},getPartEndTag:function(t,e){var i=r.hasOwnProperty(e)?" />":"</"+e+">";return i},getPartHTML:function(t,e,i,n){return e=e||"div",this.getPartBeginTag(t,e,n)+(i||"")+this.getPartEndTag(t,e)},createPart:function(t,i,n,r){return e("<"+(i||"div")+">").attr(r||{}).attr("id",this.getPartId(t)).data("part",t).addClass(this.getPartClassName(t)).html(n||"").get(0)}}}),define("moye/Context",["require","./lib"],function(require){function t(t){for(t=t||r++;t in n;)t=r++;return t}function e(e){this.id=t(e),this.controls={},this.properties={}}var i=require("./lib"),n={},r=1416796207;return e.prototype.get=function(t){return this.controls[t]},e.prototype.add=function(t){var e=t.id;return this.controls[e]=t,delete this.properties[e],this},e.prototype.remove=function(t){return delete this.controls[t.id],this},e.prototype.fill=function(t){return i.extend(this.properties,t||{}),this},{isContext:function(t){return t instanceof e},get:function(t){return n[t]},create:function(t){var i=new e(t);return n[i.id]=i,i}}}),define("moye/helper/life",["require","../main","../Context"],function(require){var t=require("../main"),e=require("../Context"),i={NEW:0,INITED:1,RENDERED:2,DISPOSED:4};return{isInStage:function(t){if(null==i[t])throw new Error("Invalid life cycle stage: "+t);return this.stage===i[t]},changeStage:function(t){if(null===i[t])throw new Error("Invalid life cycle stage: "+t);return this.stage=i[t],this},initContext:function(){var i=this.control,n=i.context;if(!e.isContext(n))n=e.get(n)||t.getContext();return i.setContext(n),this},dispose:function(){}}}),define("moye/helper/children",["require","../main","../lib"],function(require){var t=require("../main"),e=require("../lib");return{initChildren:function(){var i=this.control,n=i.context,r=t.init(i.main,n.properties,n);return e.each(r,function(t,e){i.addChild(t,t.childName||e)}),this},traversalChildren:function(t){for(var i=e.slice(this.control.children),n=0,r=i.length;r>n;++n)t.call(this,i[n],n);return this},disposeChildren:function(){var t=this.control;return this.traversalChildren(function(t){t.dispose()}),t.children=[],t.childrenIndex={},this},disableChildren:function(){return this.traversalChildren(function(t){t.disable()})},enableChildren:function(){return this.traversalChildren(function(t){t.enable()})}}}),define("moye/plugin/Plugin",["require","../lib"],function(require){var t=require("../lib"),e=t.newClass({$class:"Plugin",options:{},initialize:function(e){t.extend(this,this.options,e)},activate:function(t){this.active=!0},inactivate:function(){this.active=!1},isActivated:function(){return!!this.active},dispose:function(){}});return e}),define("moye/helper/plugin",["require","../lib","../plugin/Plugin"],function(require){var t=require("../lib"),e=require("../plugin/Plugin");return{createPluginInstance:function(i){var n,r={};if(i instanceof e)return i;var s=t.typeOf(i);if("function"===s)n=i;else if("string"===s)n=t.getClass(i);else if("object"===s)n=t.getClass(i.type),r=i.options||r;if(!n)throw new Error("moye Plugin ["+i+"] cannot found");return new n(r)},initPlugins:function(){var e=this.control,i=e.plugins;if(i&&i.length)return e.plugins=t.map(i,function(t){var i=this.createPluginInstance(t);return i.activate(e),i},this),this;else return void 0},traversalPlugins:function(t){var e=this.control.plugins;if(e)for(var i=e.length-1;i>=0;i--)t.call(this,e[i]);return this},activatePlugins:function(){return this.traversalPlugins(function(t){t.activate()})},inactivatePlugins:function(){return this.traversalPlugins(function(t){t.inactivate()})},disposePlugins:function(){return this.traversalPlugins(function(t){t.inactivate(),t.dispose()}),this.control.plugins=[],this}}}),define("moye/helper/event",["require","jquery"],function(require){var t=require("jquery");return{delegate:function(e,i,n,r,s){var a=this.control;if(null==s&&null==r)s=n,n=r=null;else if(null==s)s=r,r=null;return s=t.proxy(s,a),i+="."+a.id+"."+s.guid,t(e).on(i,n,r,s),this},undelegate:function(e,i,n,r){if(i=i||"",i+="."+this.control.id,r&&r.guid)i+="."+r.guid;return t(e).off(i,n,r),this}}}),define("moye/Helper",["require","jquery","./helper/dom","./helper/life","./helper/children","./helper/plugin","./helper/event"],function(require){function t(t){this.control=t}var e=require("jquery");return e.extend(t.prototype,require("./helper/dom"),require("./helper/life"),require("./helper/children"),require("./helper/plugin"),require("./helper/event")),t}),define("moye/Control",["require","jquery","./lib","./main","./Helper"],function(require){var t=require("jquery"),e=require("./lib"),i=require("./main"),n=require("./Helper"),r="hidden",s="disabled",a="readOnly",o=e.newClass({type:"Control",ignoreStates:["disable"],delegate:function(){var t=this.helper;return t.delegate.apply(t,arguments),this},undelegate:function(){var t=this.helper;return t.undelegate.apply(t,arguments),this},initialize:function(t){var i=this.helper=new n(this);if(i.changeStage("NEW"),this.currentStates={},t=t||{},this.bindEvents(t),this.init(t),this.main=this.main?e.g(this.main):this.createMain(),this.id=this.id||e.guid(),this.hasOwnProperty("states")){var r=this.states;if(e.isString(r))this.states=[r]}if(this.hasOwnProperty("skin")){var s=this.skin;if(e.isString(s))this.skin=[s]}i.initContext(),this.children=[],this.childrenIndex={},i.initPlugins(),i.changeStage("INITED")},init:function(t){if(this.helper.isInStage("NEW"))this.setOptions(t)},render:function(){var e=this.helper;if(e.isInStage("INITED"))if(this.fire("beforerender"),this.initStructure(),this.initEvents(),t(this.main).attr(i.getConfig("instanceAttr"),this.id),e.addPartClasses(),this.states&&this.states.length)for(var n=this.states.length-1;n>=0;n--)this.addState(this.states[n]);if(this.repaint(),e.isInStage("INITED"))e.changeStage("RENDERED"),this.fire("afterrender");return this},initStructure:function(){return this},initEvents:function(){return this},repaint:function(t,i){if(this.helper.isInStage("INITED")){if(this[s])this.disable(),delete this[s];if(this[r])this.hide(),delete this[r];if(e.isFunction(this.getValue))this.setReadOnly(!!this[a]),delete this[a]}return this},set:function(i,n){var r;if(e.isObject(i))r=i;else r={},r[i]=n;if(!this.helper.isInStage("RENDERED"))return t.extend(this,r),this;var s=[],a={};for(var o in r)if(r.hasOwnProperty(o)){var h=r[o],l=this[o],u=this.isPropertyChanged(o,h,l);if(u){this[o]=h;var c={name:o,oldValue:l,newValue:h};s.push(c),a[o]=c}}if(s.length)this.repaint(s,a);return a},get:function(t){return this[t]},isPropertyChanged:function(t,e,i){return e!==i},appendTo:function(t){if(this.helper.isInStage("INITED"))this.render();return t.appendChild(this.main),this},query:function(e){return t("."+e,this.main).toArray()},createMain:function(){return document.createElement("div")},addState:function(t){if(this.hasState(t))return this;else return this.currentStates[t]=!0,this.helper.addStateClasses(t),this.fire("statechange",{state:t,action:"add"}),this},removeState:function(t){var e=this;if(!e.hasState(t))return e;else return e.currentStates[t]=!1,this.helper.removeStateClasses(t),e.fire("statechange",{state:t,action:"remove"}),e},toggleState:function(t){return this.hasState(t)?this.removeState(t):this.addState(t),this},hasState:function(t){return!!this.currentStates[t]},show:function(){return this.removeState(r)},hide:function(){return this.addState(r)},toggle:function(){return this.toggleState(r)},disable:function(){return this.addState(s),this.helper.disableChildren(),this.fire("disable"),this},enable:function(){return this.removeState(s),this.helper.enableChildren(),this.fire("enable"),this},isDisabled:function(){return this.hasState(s)},isReadOnly:function(){return this.hasState(a)},setReadOnly:function(t){if(t)this.addState(a);else this.removeState(a);return this},addChild:function(t,e){var i=this.children,n=this.childrenIndex,r=t.getParent();if(r)r.removeChild(t);if(t.setParent(this),e=e||t.childName)n[e]=t;return t.setContext(this.context),i.push(t),this},removeChild:function(t){for(var e=this.children,i=this.childrenIndex,n=e.length-1;n>=0;n--)if(e[n]===t)e.splice(n,1);var r=t.childName;return delete i[r],t.setParent(null),this},getChild:function(t){return this.childrenIndex[t]},setParent:function(t){return this.parent=t,this},getParent:function(){return this.parent},initChildren:function(){return this.helper.initChildren(),this},setContext:function(e){var n=this.context;if(e!==n||n.get(this.id)!==this){if(n)this.context.remove(this);return e.add(this),t(this.main).attr(i.getConfig("contextAttr"),e.id),this.context=e,this}},dispose:function(){this.fire("beforedispose"),this.helper.disposePlugins(),this.helper.disposeChildren(),this.destroyEvents(),this.helper.changeStage("DISPOSED"),this.fire("afterdispose")},destroy:function(){if(this.dispose(),this.main)t(this.main).remove(),this.main=null},use:function(t){var e=this.plugins;if(!this.plugins)e=this.plugins=[];if(t=this.helper.createPluginInstance(t),e.push(t),!this.helper.isInStage("NEW"))t.activate(this);return this}}).implement(e.observable).implement(e.configurable);return o}),define("moye/Popup",["require","jquery","./lib","./Control","./painter"],function(require){var t=require("jquery"),e=require("./lib"),i=require("./Control"),n=i.extend({type:"Popup",options:{target:"",triggers:"",liveTriggers:"",content:"",dir:"bl",mode:"click",showDelay:50,hideDelay:50,offset:{x:0,y:0}},init:function(t){if(this.$parent(t),t.target)this.target=e.g(t.target);if("over"===t.mode)this.showDelay=t.showDelay>0?t.showDelay:50,this.hideDelay=t.hideDelay>0?t.hideDelay:50},initStructure:function(){var e=this.content=this.content||this.main.innerHTML;t(this.main).css("left","-2000px").appendTo(document.body).html(e)},initEvents:function(){if(this.onWindowResize=e.debounce.call(this,this.onWindowResize,100),this.showBound=t.proxy(this.onShow,this),this.hideBound=t.proxy(this.onHide,this),this.bindTriggersEvents(this.triggers,this.liveTriggers),this.delegate(this.main,"click",this.onMainClick),"over"===this.mode)this.delegate(this.main,"mouseenter",this.onMainMouseEnter),this.delegate(this.main,"mouseleave",this.onMainMouseLeave)},repaint:require("./painter").createRepaint(i.prototype.repaint,{name:"content",paint:function(t,e){this.setContent(e)}},function(t,e){if(!this.helper.isInStage("RENDERED"))return this;var i=e.liveTriggers,n=e.triggers;if(!i&&!n)return this;else return this.clearTriggersEvents(n.oldValue,i.oldValue),void this.bindTriggersEvents(n.newValue,i.newValue)}),setTarget:function(t){return this.target=t,this},bindTriggersEvents:function(e,i){var n,r=this.mode,s=this.showBound,a=this.hideBound,o=null;if("static"!==r){if(i)n=t(i),o=e;else n=t(e);if("over"===r)n.on("mouseenter",o,s).on("mouseleave",o,a),t(this.main).on("mouseenter",s).on("mouseleave",a);else n.on("click",o,s)}},clearTriggersEvents:function(e,i){var n,r=this.mode,s=null;if("static"!==r){if(i)n=t(i),s=e;else n=t(e);if("over"===r)n.off("mouseenter",s,this.showBound).off("mouseleave",s,this.hideBound),this.undelegate(this.main,"mouseenter",this.onMainMouseEnter),this.undelegate(this.main,"mouseleave",this.onMainMouseLeave);else t(e).off("click",this.showBound)}},startGlobalListener:function(){var t=this.mode;if("click"===t)this.delegate(document,"click",this.onHide);return this.delegate(window,"resize",this.onWindowResize),this},stopGlobalListener:function(){var t=this.mode;if("click"===t)this.undelegate(document,"click",this.onHide);return this.undelegate(window,"resize",this.onWindowResize),this},show:function(){var t=this;if(!t.hasState("show")){t.addState("show");var e=function(){t.locate(t.target||t.trigger),t.startGlobalListener(),t._isVisible=!0,t.fire("show",{target:t.trigger})};if(t.showDelay)t._showTimer=setTimeout(e,t.showDelay);else e();return clearTimeout(t._hideTimer),this}},hide:function(){var e=this;if(e.hasState("show")){e.removeState("show");var i=function(){t(e.main).css("left","-2000px"),e.stopGlobalListener(),e.trigger=null,e._isVisible=!1,e.fire("hide")};if(e.hideDelay)e._hideTimer=setTimeout(i,e.hideDelay);else i();return clearTimeout(e._showTimer),this}},onWindowResize:function(){var t=this.target||this.trigger;t&&this.isVisible()&&this.locate(t)},onShow:function(e){if(!this.isDisabled()){var i=e.target,n=this.main,r=i===n||t.contains(n,i),s=r?this.trigger:t(e.target).closest(this.triggers)[0];if(s){var a=this.trigger;if(a)if(this.hide(),!r&&s===a)return;var o=new t.Event("beforeshow",{target:s});if(this.fire(o),!o.isDefaultPrevented())this.trigger=s,this.show()}}},onHide:function(e){var i=e.target,n=this.main;if("mouseleave"===e.type||n!==i&&!~t.inArray(i,t(this.triggers))&&!t.contains(n,i))this.hide()},onMainClick:function(t){this.fire(t)},onMainMouseEnter:function(t){this.clear()},onMainMouseLeave:function(t){this.clear(),this.addState("show"),this.hide()},locate:function(e){e=t(e||this.target||this.trigger||document.body);var i=t(this.main),n=this.dir,r=e.offset(),s=r.top,a=r.left,o=e.outerWidth(),h=e.outerHeight(),l=a+o,u=s+h,c=a+o/2,f=s+h/2,d=i.outerWidth(),p=i.outerHeight(),g=t(window),m=g.scrollTop(),v=g.scrollLeft(),y=v+g.width(),b=m+g.height(),w=e.attr("data-popup")||e.attr("data-tooltips");if(w)n=/[trblc]{2}/.test(w)?w:"1";var C,x;if(!n||"1"===n){var P=o>d||a-(d-o)/2>0&&y>=l+(d-o)/2?"c":a+d>y?"r":"l",S=h>p||s-(p-h)/2>0&&b>=u+(p-h)/2?"c":s+p>b?"b":"t";if(b>=u+p)x="b",C=P;else if(y>=l+d)x="r",C=S;else if(s-p>=m)x="t",C=P;else if(a-d>=v)x="l",C=S;n=x+C}else x=n.charAt(0),C=n.charAt(1);this._dir=n;var T=this.offset;if({t:1,b:1}[x])a={l:a+T.x,c:c-d/2,r:l-d-T.x}[C],s={t:s-p-T.y,b:u+T.y}[x];else if({l:1,r:1}[x])s={t:s+T.y,c:f-p/2,b:u-p-T.y}[C],a={l:a-d-T.x,r:l+T.x}[x];i.css({left:a+"px",top:s+"px"})},setContent:function(e){this.content=e||"",t(this.main).html(this.content)},isVisible:function(){return!!this._isVisible},clear:function(){clearTimeout(this._showTimer),clearTimeout(this._hideTimer)},dispose:function(){this.stopGlobalListener(),this.clearTriggersEvents(this.triggers,this.liveTriggers),this.clear(),this.$parent()}});return n}),define("moye/lib/array",["require"],function(require){function t(t){return function(){return Function.call.apply(t,arguments)}}var exports={slice:t(Array.prototype.slice),each:function(t,e,i){var n;if(null==t)return t;var r=t.length;if(r===+r)for(n=0;r>n;n++)e.call(i,t[n],n,t);else{var s=exports.keys(t);for(n=0,r=s.length;r>n;n++){var a=s[n];e.call(i,t[a],a,t)}}return t},map:function(t,e,i){var n;if(null==t)return[];var r=t.length,s=[];if(r===+r)for(n=0;r>n;n++)s[n]=e.call(i,t[n],n,t);else{var a=exports.keys(t);for(n=0,r=a.length;r>n;n++){var o=a[n];s.push(e.call(i,t[o],o,t))}}return s},reduce:function(t,e,i,n){return exports.each(t,function(t,r){i=e.call(n,i,t,r)},n),i},keys:Object.keys?function(t){return null==t?[]:Object.keys(t)}:function(t){var e=[];if(null==t)return e;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e.push(i);return e},range:function(t,e,i){if(arguments.length<=1)e=t||0,t=0;i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;n>s;s++,t+=i)r[s]=t;return r}};return exports}),define("moye/lib/browser",["require"],function(require){var t=/(opera|ie|firefox|chrome|version|edge)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/,e=navigator.userAgent.toLowerCase().match(t)||[null,"unknown",0],i="ie"===e[1]&&document.documentMode,n={name:"version"===e[1]?e[3]:e[1],version:i||parseFloat("opera"===e[1]&&e[4]?e[4]:e[2])};return n[n.name]=0|n.version,n[n.name+(0|n.version)]=!0,{browser:n}}),define("moye/lib/function",["require","jquery","./array"],function(require){var t=require("jquery"),e=require("./array"),i=e.slice;return{binds:function(e,n){if("string"===t.type(n))n=~n.indexOf(",")?n.split(/\s*,\s*/):i(arguments,1);if(n&&n.length)for(var r=0,s=n.length;s>r;++r){var a=n[r],o=e[a];if(o)e[a]=t.proxy(o,e)}},throttle:function(t,e){var i=null,n=this;return function(){if(!i)return i=setTimeout(function(){i=null},e),t.apply(n,arguments);else return void 0}},debounce:function(t,e){var i,n=this;return function(){var r=arguments;if(i)clearTimeout(i);i=setTimeout(function(){return i=null,t.apply(n,r)},e)}},delay:function(t,e){var n=this;return function(){var r=i(arguments);setTimeout(function(){return t.apply(n,r)},e)}},curry:function(t){var e=i(arguments,1);return function(){return t.apply(this,e.concat(i(arguments)))}}}}),define("moye/lib/type",["require","jquery","./function","./array"],function(require){function t(t,e){return Object.prototype.toString.call(e).slice(8,-1)===t}var e=require("jquery"),i=require("./function"),n=require("./array"),exports={},r=["Null","Undefined","String","Array","Function","Number","Date","Object","Boolean","RegExp"];return n.each(r,function(e){exports["is"+e]=i.curry(t,e)}),exports.isNaN=function(t){return Number.isNaN(t)},exports.isElement=function(t){return!(!t||1!==t.nodeType)},exports.isPromise=function(t){return t&&exports.isFunction(t.then)},exports.typeOf=function(t){return exports.isElement(t)?"element":e.type(t)},exports}),define("moye/lib/object",["require","jquery","./type","./array"],function(require){var t=require("jquery"),e=require("./type"),i=require("./array"),n=Object.prototype.hasOwnProperty,exports={};return exports.stringify=window.JSON&&e.isFunction(JSON.stringify)?JSON.stringify:function(){var n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r=function(t){return n[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)};return function s(n){if(n&&n.toJSON)n=n.toJSON();switch(e.typeOf(n)){case"string":return'"'+n.replace(/[\x00-\x1f\\"]/g,r)+'"';case"array":return"["+t.map(n,s)+"]";case"object":var a=[];return i.each(n,function(t,e){var i=s(t);if(i)a.push(s(e)+":"+i)}),"{"+a+"}";case"number":case"boolean":return""+n;case"null":return"null"}return null}}(),exports.clone=function r(n){var s=e.isObject(n);if(!e.isArray(n)&&!s)return n;if(s&&!t.isPlainObject(n))return n;var a=n;if(e.isArray(n))return a=i.map([].slice.call(n),r);if(e.isObject(n)){a={};for(var o in n)if(n.hasOwnProperty(o))a[o]=r(n[o])}return a},exports.has=function(t,e){return null!=t&&n.call(t,e)},exports.extend=function s(n){n=n||{};for(var r=i.slice(arguments,1),a=0,o=r.length;o>a;a++){var h=r[a];if(h)for(var l in h){var u=h[l];if(u!==n&&exports.has(h,l)&&!e.isUndefined(u)){var c=t.isArray(u);if(t.isPlainObject(u)||c){var f=exports.has(n,l)?n[l]:null;if(c)f=f&&t.isArray(f)?f:[];else f=f&&t.isPlainObject(f)?f:{};n[l]=s(f,u)}else n[l]=u}else;}else;}return n},exports.toQueryString=function(t,n){var r=i.reduce(t,function(t,i,r){var s;if(n)r=n+"["+r+"]";switch(e.typeOf(i)){case"object":s=exports.toQueryString(i,r);break;case"array":for(var a={},o=i.length;o--;)a[o]=i[o];s=exports.toQueryString(a,r);break;default:s=r+"="+encodeURIComponent(i)}if(null!=i)t.push(s);return t},[]);return r.join("&")},exports}),define("moye/lib/class",["require","./function","./type","./object"],function(require){function t(t){var e=t.prototype;if(e.hasOwnProperty("type")||e.hasOwnProperty("$class")){var i=e.type||e.$class;if(d[i])throw new Error('Class "'+i+'" is already defined');d[i]=t}}function e(t,e){var i=new Function;i.prototype=t.prototype;var n=new i;e=e||{},l.extend(n,e);var r=a(n);for(var s in n)if(n.hasOwnProperty(s)&&h.isFunction(n[s])){var o=n[s];o[u]=r,o[c]=s}r.$parent=t;var d=e.type||e.$class;if(d)t[f][d]=r;return r}function i(t,e){if(h.isFunction(e))e=e.prototype;return l.extend(t.prototype,e),t}function n(){var t=this.$parent.caller,e=t[u];if(!e)throw new Error("this class has no Parent Class");for(var i=t[u].$parent,n=t[c];i;)if(i.prototype.hasOwnProperty(n)){var r=i.prototype[n];if(h.isFunction(r))return i.prototype[n].apply(this,arguments);throw new Error("parent method is not function")}else i=i.$parent;throw new Error("no parent method")}function r(t,e){var i=t[f];return i[e]}function s(t){return t[f]}function a(a){var h=function(){return this.initialize?this.initialize.apply(this,arguments):this};return h.prototype=a||{},t(h),h.prototype.constructor=h,h.prototype.$parent=n,h.extend=o(e,h),h.implement=o(i,h),h.getClass=o(r,h),h.getAllClasses=o(s,h),h[f]={},h}var o=require("./function").curry,h=require("./type"),l=require("./object"),u="__class__",c="__name__",f="__classess__",d={};return{newClass:a,getClass:function(t){return d[t]}}}),define("moye/lib/dom",["require","./type","./object","./browser"],function(require){var t=require("./type"),e=require("./object"),i=require("./browser").browser;return{g:function(e){return t.isString(e)?document.getElementById(e):e},fixed:function(){function t(t){return"undefined"==typeof t}function n(t){return"%"===(t+"").slice(-1)}function r(t,e){var i=parseInt(t,10);return n(t)?e+"*"+i/100:i}function s(e,i,n,s){var a={},h=o[e],l="document.documentElement."+h.offset,u="document.documentElement."+h.client;if(!t(n)&&!t(s))a[h.coordinate]="eval("+l+"+"+r(n,u)+')+"px"',a[h.size]="eval("+u+"-"+r(n,u)+"-"+r(s,u)+')+"px"';else if(t(n)&&!t(s))a[h.coordinate]="eval("+l+"+"+u+"-"+r(i,u)+"-"+r(s,u)+')+"px"';else a[h.coordinate]="eval("+l+"+"+r(n,u)+')+"px"';return a}function a(t,i){var n=s("horizontal",i.width||t.offsetWidth,i.left,i.right),r=s("vertical",i.height||t.offsetHeight,i.top,i.bottom);for(var a in r)if(e.has(r,a))n[a]=r[a];return n}var o={horizontal:{offset:"scrollLeft",client:"clientWidth",coordinate:"left",size:"width"},vertical:{offset:"scrollTop",client:"clientHeight",coordinate:"top",size:"height"}},h=document.getElementsByTagName("html")[0];if(i.ie6)h.style.backgroundAttachment="fixed",h.style.backgroundImage="url(about:blank)";return h=null,function(t,n){if(i.ie6){t.style.position="absolute";var r=a(t,n);for(var s in r)if(e.has(r,s))t.style.setExpression(s,r[s])}}}()}}),define("moye/lib/interface",["require","jquery","./array","./object","./type"],function(require){var t=require("jquery"),e=require("./array"),i=require("./object"),n=require("./type");return{configurable:{setOptions:function(t){i.extend(this,this.options,t)},bindEvents:function(t){t=t||{};for(var e in t){var r=t[e];if(i.has(t,e)&&0===e.indexOf("on")&&n.isFunction(r))this.on(e.charAt(2).toLowerCase()+e.slice(3),r),delete t[e]}}},observable:{on:function(e,i){if(n.isFunction(e))i=e,e="*";this._listeners=this._listeners||{};var r=this._listeners[e]||[];if(t.inArray(i,r)<0)i.$type=e,r.push(i);return this._listeners[e]=r,this},un:function(e,i){if(n.isFunction(e))i=e,e="*";this._listeners=this._listeners||{};var r=this._listeners[e];if(r)if(i){var s=t.inArray(i,r);if(~s)r.splice(s,1)}else r.length=0,delete this._listeners[e];return this},once:function(t,e){if(n.isFunction(t))e=t,t="*";var i=this,r=function(){e.apply(i,arguments),i.un(t,r)};return this.on.call(i,t,r),this},fire:function(e,i){var n;if(e instanceof t.Event)n=e,e=n.type;else n=new t.Event(e,i);if(!n.target)n.target=this;this._listeners=this._listeners||{};for(var r=this._listeners[e]||[],s=this._listeners["*"]||[],a=[].concat(r,s),o=a.length,h=0;o>h;h++)a[h].call(this,n);return n},destroyEvents:function(){var t=this._listeners;if(t)e.each(t,function(t,e,i){i[e].length=0,i[e]=null}),this._listeners=null}}}}),define("moye/lib/page",["require"],function(require){function t(t){var e=t&&t.ownerDocument||document,i=e.compatMode;return!i||"CSS1Compat"===i?e.documentElement:e.body}return{getScrollLeft:function(){return window.pageXOffset||t().scrollLeft},getScrollTop:function(){return window.pageYOffset||t().scrollTop},getViewWidth:function(){return t().clientWidth},getViewHeight:function(){return t().clientHeight}}}),define("moye/lib/string",["require","jquery"],function(require){var t=require("jquery");return{guid:function(){var t="moye",e=0;return function(){return t+"-"+e++}}(),capitalize:function(t){return String(t).replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},contains:function(e,i,n){return n=n||" ",e=n+e+n,i=n+t.trim(i)+n,e.indexOf(i)>-1},pad:function(t,e){var i=0>t?"-":"",n=Math.abs(parseInt(t,10))+"",r=n.length;if(e=+e||2,e>r)n=(1<<e-r).toString(2).slice(1)+n;return i+n},format:function(){var t={"!":1,"@":2,"#":3,$:4,"%":5};return function(e,i,n,r,s,a){var o=arguments;return e.replace(/(!|@|#|\$|%)\{([\w]+)\}/g,function(e,i,n){if(i=o[t[i]],null==i)return"";if(n=i[n],null==n)return"";else return n})}}()}}),define("moye/lib",["require","jquery","./lib/array","./lib/browser","./lib/class","./lib/dom","./lib/function","./lib/interface","./lib/object","./lib/page","./lib/string","./lib/type"],function(require){var t=require("jquery"),e={};return t.extend(e,require("./lib/array"),require("./lib/browser"),require("./lib/class"),require("./lib/dom"),require("./lib/function"),require("./lib/interface"),require("./lib/object"),require("./lib/page"),require("./lib/string"),require("./lib/type")),e}),define("moye/main",["require","./lib","./Context"],function(require){var t=require("./lib"),e=require("./Context"),i={uiPrefix:"data-ui",instanceAttr:"data-ctrl-id",uiClassPrefix:"ui",skinClassPrefix:"skin",stateClassPrefix:"state",contextAttr:"data-ctrl-context"},n=e.create("default"),exports={init:function(t,e,r){var s=i.uiPrefix+"-id",a={};return r=r||n,r.fill(e),$("["+s+"]",t).each(function(t,n){var o=n.getAttribute(s),h=n.getAttribute(i.instanceAttr);if(o&&!h){var l=e[o];if(l){var u=l.type;if(!u)throw new Error("you should specify a type to `"+o+"`");var c=$.extend({context:r},l,{id:o,main:n}),f=exports.create(u,c);f.render(),a[o]=f}}}),a},create:function(e,i){var n=t.getClass(e);if(!n)throw new Error("Class "+e+" not found");return delete i.type,new n(i)},get:function(t){return n.get(t)},getControlByDOM:function(t){t=$(t);var e=t.attr(i.instanceAttr);if(e){var n=t.attr(i.contextAttr);if(n){var r=exports.getContext(n);if(r)return r.get(e)}}},getContext:function(t){return t?e.get(t):n},getConfig:function(t){return i[t]},setConfig:function(t,e){return i[t]=e,this}};return exports});