/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/ui/TextBox",["require","jquery","./Control","./painter","./lib"],function(require){var t=require("jquery"),e=require("./Control"),i=require("./painter"),s=require("./lib"),n=e.extend({type:"TextBox",options:{},init:function(e){this.$parent(e);var i=e.input?t(e.input):t(this.main).find("input");this.value=e.value||i.val(),this.input=i[0]},initEvents:function(){var t=this.input,e=this.dispatchEvent;if(this.delegate(t,"blur",e).delegate(t,"focus",e).delegate(t,"keyup",e),s.browser.ie<9)this.delegate(t,"propertychange",e);else this.delegate(t,"input",e);return this},repaint:i.createRepaint(e.prototype.repaint,{name:["name"],paint:function(t,e){this.input.name=e||""}},{name:["value"],paint:function(t,e){this.setValue(e||"")}}),dispatchEvent:function(t){if(this.isReadOnly())return void t.preventDefault();var e=t.type;if("keyup"===e&&13===t.keyCode)e="enter";if("input"===e||"propertychange"===e&&"value"===t.originalEvent.propertyName)e="change";var i=this.fire(e);if(i.isDefaultPrevented())t.preventDefault()},getValue:function(){return this.input.value},setValue:function(t){return this.input.value=t,this},disable:function(){if(!this.hasState("disabled"))this.addState("disabled"),this.input.disabled=!0;return this},enable:function(){if(this.hasState("disabled"))this.removeState("disabled"),this.input.disabled=!1;return this},setReadOnly:function(e){this[e?"addState":"removeState"]("readonly"),t(this.input).attr("readonly",!!e)},isReadOnly:function(){return this.hasState("readonly")}});return n});