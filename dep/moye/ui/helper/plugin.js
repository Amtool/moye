/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/ui/helper/plugin",["require","../lib","../plugin/Plugin"],function(require){var t=require("../lib"),e=require("../plugin/Plugin");return{createPluginInstance:function(i){var n,s={};if(i instanceof e)return i;var a=t.typeOf(i);if("function"===a)n=i;else if("string"===a)n=t.getClass(i);else if("object"===a)n=t.getClass(i.type),s=i.options||s;if(!n)throw new Error("moye Plugin ["+i+"] cannot found");return new n(s)},initPlugins:function(){var e=this.control,i=e.plugins;if(i&&i.length)return e.plugins=t.map(i,function(t){var i=this.createPluginInstance(t);return i.activate(e),i},this),this;else return void 0},traversalPlugins:function(t){var e=this.control.plugins;if(e)for(var i=e.length-1;i>=0;i--)t.call(this,e[i]);return this},activatePlugins:function(){return this.traversalPlugins(function(t){t.activate()})},inactivatePlugins:function(){return this.traversalPlugins(function(t){t.inactivate()})},disposePlugins:function(){return this.traversalPlugins(function(t){t.inactivate(),t.dispose()}),this.control.plugins=[],this}}});