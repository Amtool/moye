/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/ui/plugin/FormSubmit",["require","jquery","./Plugin","../lib"],function(require){var t=require("jquery"),e=require("./Plugin"),i=require("../lib"),n=e.extend({$class:"FormSubmit",initialize:function(t){this.triggers=t.triggers||[],this.triggerEventType=t.triggerEventType||"click",this.id=this.id||i.guid(),this.bounds=[]},activate:function(e){this.$parent(e),this.control=e,this.submit=t.proxy(this.submit,this),e.once("afterrender",t.proxy(this.bindEvents,this))},bindEvents:function(){for(var e=this.triggers,n=this.triggerEventType,s=e.length-1;s>=0;s--){var r=e[s],a=this.control.context.get(r);if(a)a.on(n,this.submit);else if(a=i.g(r))this.bounds.push({element:a,eventType:n}),t(a).on(n+"."+this.id,this.submit)}},submit:function(t){this.control.onSubmit(t)},dispose:function(){this.triggers=null;for(var e=this.bounds.length-1;e>=0;e--){var i=this.bounds[e];t(i.element).off(i.eventType+"."+this.id,this.submit)}this.control=null,this.$parent()}});return n});