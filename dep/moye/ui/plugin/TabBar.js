/*! 2015 Baidu Inc. All Rights Reserved */
define("moye/ui/plugin/TabBar",["require","jquery","./Plugin"],function(require){var t=require("jquery"),e=require("./Plugin"),i=e.extend({$class:"TabBar",activate:function(e){this.$parent(e),this.control=e,e.helper.addPartClasses("plugin-tabbar"),e.on("afterrender",t.proxy(this.onAfterrender,this)),e.on("change",t.proxy(this.onChange,this))},onChange:function(t){var e=this;setTimeout(function(){if(!t.isDefaultPrevented())e.setBar(t.activeIndex)},0)},onAfterrender:function(){var e=t(this.control.itemClass,this.control.main),i="."+this.control.helper.getPartClassName("bar");t(i,this.control.main).css({width:e.eq(this.control.activeIndex).outerWidth()}),this.setBar(this.control.activeIndex)},setBar:function(e){var i=t(this.control.itemClass,this.control.main),n="."+this.control.helper.getPartClassName("bar");t(n,this.control.main).stop().animate({left:i.eq(e).position().left,width:i.eq(e).outerWidth()},500)},inactivate:function(){var t=this.control;t.off("change"),t.off("afterrender"),this.control=null}});return i});