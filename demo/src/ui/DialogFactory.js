/*! 2014 Baidu Inc. All Rights Reserved */
define("DialogFactory",["require","./lib","./Dialog"],function(require){function t(t,e){e=e?"-"+e:"";var i=t.skin;return(t.prefix||"ecl-ui-dialog")+e+(i?" "+i+e:"")}function e(e){var s=e.footer||"";if(e.cancel){var a="btn-"+Math.random(),r=t(e,"cancel-btn");s+='<a id="'+a+'" href="javascript:;" class="'+r+'">'+(e.cancelTitle||"取消")+"</a>",e.title=e.title||"确认",e.cancelId=a}if(e.confirm){var a="btn-"+Math.random(),r=t(e,"confirm-btn");s='<button id="'+a+'" class="'+r+'">'+(e.confirmTitle||"确定")+"</button>"+s,e.title=e.title||"提示",e.confirmId=a}e.footer=s;var o=new n(e);if(o.render(),e.confirmId)o.onConfirm&&o.on("confirm",o.onConfirm),i.on(i.g(e.confirmId),"click",e.confirmHandler=function(){o.fire("confirm")});if(e.cancelId)o.onCancel&&o.on("cancel",o.onCancel),i.on(i.g(e.cancelId),"click",e.cancelHandler=function(){o.fire("cancel"),o.hide()});return o.on("beforedispose",function(){o.un("confirm"),o.un("cancel"),e.confirmId&&i.un(i.g(e.confirmId),"click",e.confirmHandler),e.cancelId&&i.un(i.g(e.cancelId),"click",e.cancelHandler),e=null}),o}var i=require("./lib"),n=require("./Dialog"),s={create:function(t){return e(t)},alert:function(t){return t.confirm=1,e(t)},confirm:function(t){return t.confirm=1,t.cancel=1,e(t)}};return s});