/*! 2014 Baidu Inc. All Rights Reserved */
define("FloatTip",["require","./lib","./Control"],function(require){var t=require("./lib"),e=require("./Control"),i={getClass:function(t){return t=t?"-"+t:"",this.options.prefix+t},getDom:function(e,n){return t.q(i.getClass.call(this,e),t.g(n))[0]},create:function(){var e=this.options,n={content:e.content,iconClass:i.getClass.call(this,"icon"),contentClass:i.getClass.call(this,"content")},s=this.createElement("div",{className:i.getClass.call(this)});t.setStyles(s,{width:e.width,left:e.left,top:e.top,position:e.fixed?"fixed":"absolute",zIndex:e.level}),s.innerHTML=this.options.tpl.replace(/#\{([\w-.]+)\}/g,function(t,e){return n[e]||""}),document.body.appendChild(s),this.main=s}},n=e.extend({type:"FloatTip",options:{prefix:"ecl-ui-floattip",content:"",width:"",top:"",left:"",fixed:1,level:"",tpl:'<i class="#{iconClass}"></i><div class="#{contentClass}">#{content}</div>'},setContent:function(t){i.getDom.call(this,"content").innerHTML=t},render:function(){if(!this.rendered){var e=this.options;if(e.fixed&&6===t.browser.ie)e.fixed=0;i.create.call(this),this.rendered=!0}return this},adjustPos:function(){var e=this.options.left,i=this.options.top;if(this.options.fixed){var n={left:e,top:i};if(!e)n.left="50%",n.marginLeft=-this.main.offsetWidth/2+"px";if(!i)n.top=.4*(t.getViewHeight()-this.main.offsetHeight)+"px";t.setStyles(this.main,n)}else{if(""===e)e=(t.getViewWidth()-this.main.offsetWidth)/2,e+=t.getScrollLeft(),e+="px";if(""===i)i=.4*(t.getViewHeight()-this.main.offsetHeight),i+=t.getScrollTop(),i+="px";t.setStyles(this.main,{position:"absolute",left:e,top:i})}},show:function(){return t.removeClass(this.main,i.getClass.call(this,"hide")),this.adjustPos(),this},hide:function(){return t.addClass(this.main,i.getClass.call(this,"hide")),this}});return n});