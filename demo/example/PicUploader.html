<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>PicUploader - Moye</title>
<link rel="stylesheet" href="./css/common.css" />
<link rel="stylesheet" href="../src/css/PicUploader.css">
</head>
<body>
<div class="nav">
  <a href="#" class="logo"><img src="./img/moye.png" alt=""></a>
  <ul>
    <li><a href="Calendar.html" class="">Calendar</a>
    <li><a href="City.html" class="">City</a>
    <li><a href="Filter.html" class="">Filter</a>
    <li><a href="Lunar.html" class="">Lunar</a>
    <li><a href="Tabs.html" class="">Tabs</a>
    <li><a href="Dialog.html" class="">Dialog</a>
    <li><a href="FloatTip.html" class="">FloatTip</a>
    <li><a href="Lazy.html" class="">Lazy</a>
    <li><a href="Pager.html" class="">Pager</a>
    <li><a href="Rating.html" class="">Rating</a>
    <li><a href="PicUploader.html" class="active">PicUploader</a>
    <li><a href="Slider.html" class="">Slider</a>
    <li><a href="Select.html" class="">Select</a>
  </ul>
</div>
<div class="container">
<div class="markdown"><h1 id="rating-">Rating 打分组件</h1>
<h3 id="demo">DEMO</h3>
<hr>
</div><div id="uploader-container"></div>
<button id="uploader-dispose">注销</button>
<button id="uploader-del">删除路径与第一张图片相同的所有图片</button>
<button id="uploader-del-index">删除第一个</button>
<button id="uploader-enable">启用</button>
<button id="uploader-disable">禁用</button>
<div class="markdown"><h3 id="-">源码</h3>
<hr>
<pre><code class="lang-html"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"uploader-container"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"uploader-dispose"</span>&gt;</span>注销<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"uploader-del"</span>&gt;</span>根据路径删除<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"uploader-del-index"</span>&gt;</span>删除第一个<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"uploader-enable"</span>&gt;</span>启用<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"uploader-disable"</span>&gt;</span>禁用<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
</code></pre>
<pre><code class="lang-js"><span class="built_in">require</span>([<span class="string">'PicUploader'</span>], <span class="function"><span class="keyword">function</span> <span class="params">(PicUploader)</span> </span>{

  <span class="keyword">var</span> uploader = <span class="keyword">new</span> PicUploader({
    main: $(<span class="string">'#uploader-container'</span>)[<span class="number">0</span>]
  });

  uploader.on(<span class="string">'pickerror'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{
    <span class="built_in">console</span>.log(e.fileName);
  }).on(<span class="string">'pick'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{
    <span class="built_in">console</span>.log(e.fileName);
  }).on(<span class="string">'remove'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{
    <span class="built_in">console</span>.log(e.fileName);
  });

  uploader.render();

  $(<span class="string">'#uploader-dispose'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
    uploader.dispose();
  });

  $(<span class="string">'#uploader-del'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      <span class="keyword">var</span> files = uploader.getFileList();
      uploader.remove(files[<span class="number">0</span>]);
  });

  $(<span class="string">'#uploader-del-index'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      uploader.removeAt(<span class="number">0</span>);
  });

  $(<span class="string">'#uploader-enable'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      uploader.enable();
  });

  $(<span class="string">'#uploader-disable'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      uploader.disable();
  });

});
</code></pre>
</div></div>
<script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-6-8/esl.js"></script>
<script src="http://s1.bdstatic.com/r/www/cache/static/jquery/jquery-1.10.2.min_f2fb5194.js"></script>
<script>
require.config({ 'baseUrl': '../src/ui' });
</script>
<script>
require(['PicUploader'], function (PicUploader) {

  var uploader = new PicUploader({
    main: $('#uploader-container')[0]
  });

  uploader.on('pickerror', function(e) {
    console.log(e.fileName);
  }).on('pick', function(e) {
    console.log(e.fileName);
  }).on('remove', function(e) {
    console.log(e.fileName);
  });

  uploader.render();

  $('#uploader-dispose').on('click', function() {
    uploader.dispose();
  });

  $('#uploader-del').on('click', function() {
      var files = uploader.getFileList();
      uploader.remove(files[0]);
  });

  $('#uploader-del-index').on('click', function() {
      uploader.removeAt(0);
  });

  $('#uploader-enable').on('click', function() {
      uploader.enable();
  });

  $('#uploader-disable').on('click', function() {
      uploader.disable();
  });

});
</script></body>
</html>