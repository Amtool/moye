<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Dialog - Moye</title>
<link rel="stylesheet" href="./css/common.css" />
<link rel="stylesheet" href="../src/css/Dialog.css">
<style>
  .content {
    margin: 20px 0;
  }
</style>
</head>
<body>
<div class="nav">
  <a href="#" class="logo"><img src="./img/moye.png" alt=""></a>
  <ul>
    <li><a href="Calendar.html" class="">Calendar</a>
    <li><a href="City.html" class="">City</a>
    <li><a href="Filter.html" class="">Filter</a>
    <li><a href="Lunar.html" class="">Lunar</a>
    <li><a href="Tabs.html" class="">Tabs</a>
    <li><a href="Dialog.html" class="active">Dialog</a>
    <li><a href="FloatTip.html" class="">FloatTip</a>
    <li><a href="Lazy.html" class="">Lazy</a>
    <li><a href="Pager.html" class="">Pager</a>
    <li><a href="Rating.html" class="">Rating</a>
    <li><a href="PicUploader.html" class="">PicUploader</a>
    <li><a href="Select.html" class="">Select</a>
  </ul>
</div>
<div class="container">
<div class="markdown"><h1 id="dialog-">Dialog 窗口</h1>
</div>
<div class="content">
  <button id="newDialog">普通青年(呃，普通窗口)</button>
  <button id="newAlertDialog">警告窗口(alert)</button>
  <button id="newConfirmDialogFixed">确定框(confirm，固定定位)</button>
  <button id="newConfirmDialogAbsolute">确定框(confirm，绝对定位)</button>  
</div>

<div class="markdown"><pre><code class="lang-html"><span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"newDialog"</span>&gt;</span>普通青年(呃，普通窗口)<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"newAlertDialog"</span>&gt;</span>警告窗口(alert)<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"newConfirmDialogFixed"</span>&gt;</span>确定框(confirm，固定定位)<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
<span class="tag">&lt;<span class="title">button</span> <span class="attribute">id</span>=<span class="value">"newConfirmDialogAbsolute"</span>&gt;</span>确定框(confirm，绝对定位)<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
</code></pre>
<pre><code class="lang-js"><span class="built_in">require</span>([<span class="string">'DialogFactory'</span>], <span class="function"><span class="keyword">function</span> <span class="params">(DialogFactory)</span> </span>{

  <span class="keyword">var</span> newdlg; 
  $(<span class="string">'#newDialog'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
    <span class="keyword">if</span>(newdlg) {
      newdlg.show();
      <span class="keyword">return</span>;
    }
    newdlg = DialogFactory.create({
        main: <span class="string">''</span>,
        skin: <span class="string">'xxx'</span>,
        content: <span class="string">'内容'</span>,
        footer: <span class="string">'底部'</span>,
        width: <span class="string">'600px'</span>,
        title: <span class="string">'标题'</span>,
        top: <span class="string">'50px'</span>,
        left: <span class="string">''</span>,
        fixed: <span class="number">1</span>,
        showMask: <span class="number">1</span>,
        leve: <span class="number">10</span>
    });

    newdlg.show();

  });

  $(<span class="string">'#newAlertDialog'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
    <span class="keyword">var</span> dlg = DialogFactory.alert({
      content: <span class="string">'hello dialog!'</span>
    });

    dlg.on(<span class="string">'confirm'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      dlg.hide();
      dlg.dispose();
    });
    dlg.show();
  });

  $(<span class="string">'#newConfirmDialog'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{

    <span class="keyword">var</span> dlg = DialogFactory.confirm({
      content: <span class="string">'hello dialog!'</span>,
      height: <span class="string">'400px'</span>
    });

    dlg.on(<span class="string">'confirm'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      <span class="built_in">console</span>.log(<span class="string">'confirm'</span>);
      <span class="keyword">this</span>.hide();
    });

    dlg.on(<span class="string">'cancel'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      <span class="built_in">console</span>.log(<span class="string">'cancel'</span>);
      <span class="keyword">this</span>.hide();
    });

    dlg.on(<span class="string">'hide'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      <span class="built_in">console</span>.log(<span class="string">'hide'</span>);
      dlg.dispose();
    });

    dlg.show();
  });

  $(<span class="string">'#newConfirmDialogAbsolute'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{

    <span class="keyword">var</span> dlg = DialogFactory.confirm({
      content: <span class="string">'hello dialog!'</span>,
      height: <span class="string">'400px'</span>,
      fixed: <span class="number">0</span>,
      onConfirm: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
        <span class="keyword">this</span>.hide();
        <span class="built_in">console</span>.log(<span class="string">'onconfirm'</span>);
      },
      onCancel: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
        <span class="keyword">this</span>.hide();
        <span class="built_in">console</span>.log(<span class="string">'oncancel'</span>);
      }
    });

    dlg.on(<span class="string">'hide'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
      <span class="built_in">console</span>.log(<span class="string">'hide'</span>);
      dlg.dispose();
    });

    dlg.show();
  });

});
</code></pre>
</div></div>
<script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-6-8/esl.js"></script>
<script src="http://s1.bdstatic.com/r/www/cache/static/jquery/jquery-1.10.2.min_f2fb5194.js"></script>
<script>
require.config({ 'baseUrl': '../src/ui' });
</script>
<script>
require(['DialogFactory'], function (DialogFactory) {

  var newdlg; 
  $('#newDialog').on('click', function() {
    if(newdlg) {
      newdlg.show();
      return;
    }
    newdlg = DialogFactory.create({
        main: '',
        skin: 'xxx',
        content: '内容',
        footer: '底部',
        width: '600px',
        title: '标题',
        top: '50px',
        left: '',
        fixed: 1,
        showMask: 1,
        leve: 10
    });

    newdlg.show();

  });

  $('#newAlertDialog').on('click', function() {
    var dlg = DialogFactory.alert({
      content: 'hello dialog!'
    });

    dlg.on('confirm', function() {
      dlg.hide();
      dlg.dispose();
    });
    dlg.show();
  });

  $('#newConfirmDialogFixed').on('click', function() {

    var dlg = DialogFactory.confirm({
      content: 'hello dialog!',
      height: '400px'
    });

    dlg.on('confirm', function() {
      console.log('confirm');
      this.hide();
    });

    dlg.on('cancel', function() {
      console.log('cancel');
      this.hide();
    });

    dlg.on('hide', function() {
      console.log('hide');
      dlg.dispose();
    });

    dlg.show();
  });

  $('#newConfirmDialogAbsolute').on('click', function() {

    var dlg = DialogFactory.confirm({
      content: 'hello dialog!',
      height: '400px',
      fixed: 0,
      onConfirm: function() {
        this.hide();
        console.log('onconfirm');
      },
      onCancel: function() {
        this.hide();
        console.log('oncancel');
      }
    });

    dlg.on('hide', function() {
      console.log('hide');
      dlg.dispose();
    });

    dlg.show();
  });

});
</script></body>
</html>